// Generated by CoffeeScript 1.10.0
(function() {
  $(function() {
    var $body, $grid, $main, init;
    $body = $('body');
    $main = $('.main');
    $grid = $('.grid');
    init = function() {
      var lookAt, lookAway, pickUp;
      $body.on('click', '.item', function() {
        return pickUp(this);
      });
      $body.on('mouseover', '.item', function() {
        return lookAt(this);
      });
      $body.on('mouseleave', '.item', function() {
        return lookAway(this);
      });
      $grid.imagesLoaded(function() {
        return $grid.masonry({
          itemSelector: '.item',
          columnWidth: '.sizer',
          gutter: '.gutter',
          fitWidth: true,
          transitionDuration: 0
        });
      });
      pickUp = function(self) {
        var $figcaption, $item, index;
        index = $(self).data('index');
        $item = $('.grid .item[data-index="' + index + '"]');
        $figcaption = $('aside figcaption[data-index="' + index + '"]');
        $figcaption.addClass('selected');
        $main.addClass('hide');
        return $body.addClass('reading');
      };
      lookAt = function(self) {
        var $figcaption, $item, index;
        index = $(self).data('index');
        $item = $('.grid .item[data-index="' + index + '"]');
        $figcaption = $('aside figcaption[data-index="' + index + '"]');
        $figcaption.addClass('highlight');
        return $item.addClass('looking');
      };
      return lookAway = function(self) {
        var $figcaption, $item, index;
        index = $(self).data('index');
        $item = $('.grid .item[data-index="' + index + '"]');
        $figcaption = $('aside figcaption[data-index="' + index + '"]');
        $figcaption.removeClass('highlight');
        return $item.removeClass('looking');
      };
    };
    return init();
  });

}).call(this);
